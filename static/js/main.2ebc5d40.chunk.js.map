{"version":3,"sources":["components/Box.js","components/ListContainer.js","components/ActionContainer.js","components/Container.js","helpers.js","components/Timer.js","components/TimerForm.js","components/ActionButton.js","App.js","index.js"],"names":["Box","state","timers","title","project","elapsed","id","runningSince","handleCreateFormSubmit","timer","uuid","v4","setState","handleEditFormSubmit","map","handleTrashClick","filter","handlePauseClick","timerId","now","Date","lastElapsed","handlePlayClick","className","this","onFormSubmit","onTrashClick","onPauseClick","onPlayClick","Component","ListContainer","props","key","renderContainer","ActionContainer","isFormOpen","handleFormOpen","handleFormClose","handleFormSubmit","onFormClose","Container","isEditFormOpen","handleEditClick","onEditClick","window","helpers","millisecondsToHuman","ms","seconds","Math","floor","minutes","pad","toString","join","numberString","size","padded","length","newTimer","attrs","findById","array","cb","forEach","el","renderElapsedString","totalElapsed","Timer","console","log","renderButton","onClick","forceUpdateInterval","setInterval","forceUpdate","clearInterval","elapsedString","fontSize","TimerForm","handleTitleChange","e","target","value","handleProjectChange","handleSubmit","submitText","type","placeholder","onChange","ActionButton","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2ebc5d40.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport { ListContainer, ActionContainer } from \"./index\";\n\nimport uuid from \"uuid\";\n\nclass Box extends Component {\n  state = {\n    timers: [\n      {\n        title: \"Apprendre React\",\n        project: \"Développement Web\",\n        elapsed: 5609620,\n        id: \"0a4a79cb-b06d-4cb1-883d-549a1e3b66d7\",\n        runningSince: null\n      },\n      {\n        title: \"Apprendre React Native\",\n        project: \"Développement Web\",\n        elapsed: 1349620,\n        id: \"0a4a79cb-b06d-4cb1-883d-549a1e3b66d4\",\n        runningSince: null\n      }\n    ]\n  };\n  handleCreateFormSubmit = ({ title, project }) => {\n    const timer = {\n      title,\n      project,\n      id: uuid.v4(),\n      elapsed: 0,\n      runningSince: null\n    };\n    this.setState({ timers: [...this.state.timers, timer] });\n  };\n  handleEditFormSubmit = ({ id, title, project }) => {\n    this.setState({\n      timers: this.state.timers.map(timer => {\n        if (timer.id === id) {\n          return {\n            ...timer,\n            title,\n            project\n          };\n        }\n        return { ...timer };\n      })\n    });\n  };\n  handleTrashClick = id => {\n    this.setState({\n      timers: this.state.timers.filter(timer => {\n        return timer.id !== id;\n      })\n    });\n  };\n  handlePauseClick = timerId => {\n    const now = Date.now();\n    this.setState({\n      timers: this.state.timers.map(timer => {\n        if(timerId === timer.id) {\n          const lastElapsed = now - timer.runningSince;\n          return {\n            ...timer,\n            runningSince: null,\n            elapsed: timer.elapsed + lastElapsed\n          }\n        } else {\n          return { ...timer };\n        }\n      })\n    });\n  };\n  handlePlayClick = timerId => {\n    const now = Date.now();\n    this.setState({\n      timers: this.state.timers.map(timer => {\n        if(timerId === timer.id) {\n          return {\n            ...timer,\n            runningSince: now\n          }\n        } else {\n          return { ...timer };\n        }\n      })\n    });\n  };\n  render() {\n    return (\n      <div className=\"boxed--view\">\n        <div className=\"boxed--view__box\">\n          <ListContainer\n            timers={this.state.timers}\n            onFormSubmit={this.handleEditFormSubmit}\n            onTrashClick={this.handleTrashClick}\n            onPauseClick={this.handlePauseClick}\n            onPlayClick={this.handlePlayClick}\n          />\n          <ActionContainer onFormSubmit={this.handleCreateFormSubmit} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport { Box };\n","import React, { Component } from \"react\";\n\nimport { Container } from \"./index\";\n\nclass ListContainer extends Component {\n  renderContainer() {\n    return this.props.timers.map(timer => {\n      // console.log(\"timer\", timer);\n      return (\n        <Container\n          title={timer.title}\n          project={timer.project}\n          elapsed={timer.elapsed}\n          id={timer.id}\n          key={timer.id}\n          runningSince={timer.runningSince}\n          onFormSubmit={this.props.onFormSubmit}\n          onTrashClick={this.props.onTrashClick}\n          onPauseClick={this.props.onPauseClick}\n          onPlayClick={this.props.onPlayClick}\n        />\n      );\n    });\n  }\n  render() {\n    return <div className=\"list--container\">{this.renderContainer()}</div>;\n  }\n}\n\nexport { ListContainer };\n","import React, { Component } from \"react\";\n\nimport { ActionButton, TimerForm } from \"./index\";\n\nclass ActionContainer extends Component {\n  state = {\n    isFormOpen: false\n  };\n  handleFormOpen = () => {\n    this.setState({ isFormOpen: true });\n  };\n  handleFormClose = () => {\n    this.setState({ isFormOpen: false });\n  };\n  handleFormSubmit = timer => {\n    this.props.onFormSubmit(timer);\n    this.setState({ isFormOpen: false });\n  };\n  render() {\n    if (this.state.isFormOpen) {\n      return (\n        <TimerForm\n          onFormClose={this.handleFormClose}\n          onFormSubmit={this.handleFormSubmit}\n        />\n      );\n    } else {\n      return <ActionButton handleFormOpen={this.handleFormOpen} />;\n    }\n  }\n}\n\nexport { ActionContainer };\n","import React, { Component } from \"react\";\n\nimport { Timer, TimerForm } from \"./index\";\n\nclass Container extends Component {\n  state = {\n    isEditFormOpen: false\n  };\n  handleEditClick = () => {\n    this.setState({ isEditFormOpen: true });\n  };\n  handleFormClose = () => {\n    this.setState({ isEditFormOpen: false });\n  };\n  handleFormSubmit = timer => {\n    this.props.onFormSubmit(timer);\n    this.setState({ isEditFormOpen: false });\n  };\n  render() {\n    if (this.state.isEditFormOpen) {\n      // console.log(\"props\", this.props);\n      return (\n        <TimerForm\n          title={this.props.title}\n          project={this.props.project}\n          id={this.props.id}\n          onFormClose={this.handleFormClose}\n          onFormSubmit={this.handleFormSubmit}\n        />\n      );\n    } else {\n      return (\n        <Timer\n          id={this.props.id}\n          title={this.props.title}\n          project={this.props.project}\n          elapsed={this.props.elapsed}\n          runningSince={this.props.runningSince}\n          onEditClick={this.handleEditClick}\n          onTrashClick={this.props.onTrashClick}\n          onPauseClick={this.props.onPauseClick}\n          onPlayClick={this.props.onPlayClick}\n        />\n      );\n    }\n  }\n}\n\nexport { Container };\n","import uuid from \"uuid\";\n\nwindow.helpers = (function() {\n  function newTimer(attrs = {}) {\n    const timer = {\n      title: attrs.title || \"Timer\",\n      project: attrs.project || \"Project\",\n      id: uuid.v4(), // eslint-disable-line no-undef\n      elapsed: 0\n    };\n\n    return timer;\n  }\n\n  function findById(array, id, cb) {\n    array.forEach(el => {\n      if (el.id === id) {\n        cb(el);\n        return;\n      }\n    });\n  }\n\n  function renderElapsedString(elapsed, runningSince) {\n    let totalElapsed = elapsed;\n    if (runningSince) {\n      totalElapsed += Date.now() - runningSince;\n      //   console.log(\"totalElapsed\", totalElapsed);\n    }\n    // console.log(\"toHumain\", millisecondsToHuman(totalElapsed));\n    return millisecondsToHuman(totalElapsed);\n  }\n\n  function millisecondsToHuman(ms) {\n    const seconds = Math.floor((ms / 1000) % 60);\n    const minutes = Math.floor((ms / 1000 / 60) % 60);\n    const hours = Math.floor(ms / 1000 / 60 / 60);\n\n    const humanized = [\n      pad(hours.toString(), 2),\n      pad(minutes.toString(), 2),\n      pad(seconds.toString(), 2)\n    ].join(\":\");\n\n    return humanized;\n  }\n\n  function pad(numberString, size) {\n    let padded = numberString;\n    while (padded.length < size) padded = `0${padded}`;\n    return padded;\n  }\n\n  return {\n    millisecondsToHuman,\n    newTimer,\n    findById,\n    renderElapsedString\n  };\n})();\n","import React, { Component } from \"react\";\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport EditIcon from '@material-ui/icons/Edit';\nimport \"../helpers.js\";\n\nclass Timer extends Component {\n  componentDidMount() {\n    this.forceUpdateInterval = setInterval(() => this.forceUpdate(), 50);\n  }\n  componentWillUnmount() {\n    clearInterval(this.forceUpdateInterval);\n  }\n  handleTrashClick = () => {\n    this.props.onTrashClick(this.props.id);\n  };\n  onPauseClick = () => {\n    console.log(\"Pause clicked\");\n    this.props.onPauseClick(this.props.id);\n  };\n  onPlayClick = () => {\n    console.log(\"Play clicked\");\n    this.props.onPlayClick(this.props.id);\n  };\n  renderButton = () => {\n    if (this.props.runningSince) {\n      return (\n        <button className=\"button red\" onClick={this.onPauseClick}>\n          Pause\n        </button>\n      );\n    } else {\n      return (\n        <button className=\"button\" onClick={this.onPlayClick}>\n          Play\n        </button>\n      );\n    }\n  };\n  render() {\n    const elapsedString = window.helpers.renderElapsedString(\n      this.props.elapsed,\n      this.props.runningSince\n    );\n    // console.log('runningSince', this.props.runningSince);\n    return (\n      <div className=\"timer--box\">\n        <div className=\"timer--content\">\n          <div className=\"timer--header\">\n            <h2>{this.props.title}</h2>\n          </div>\n          <div className=\"timer--meta\">\n            <p>{this.props.project}</p>\n          </div>\n          <div className=\"timer--h2\">\n            <h4>{elapsedString}</h4>\n          </div>\n          <div className=\"actions\">\n            <span className=\"trash\" onClick={this.handleTrashClick}>\n            <DeleteForeverIcon fontSize=\"large\"/>\n            </span> \n            <span className=\"edit\" onClick={this.props.onEditClick}>\n              <EditIcon  fontSize=\"large\"/>\n            </span>\n          </div>\n        </div>\n        {this.renderButton()}\n      </div>\n    );\n  }\n}\n\nexport { Timer };\n","import React, { Component } from \"react\";\n\nclass TimerForm extends Component {\n  state = {\n    title: this.props.title || \"\",\n    project: this.props.project || \"\"\n  };\n  handleTitleChange = e => {\n    this.setState({ title: e.target.value });\n  };\n  handleProjectChange = e => {\n    this.setState({ project: e.target.value });\n  };\n  handleSubmit = () => {\n    this.props.onFormSubmit({\n      id: this.props.id,\n      title: this.state.title,\n      project: this.state.project\n    });\n  };\n  render() {\n    const submitText = this.props.id ? \"Modifier\" : \"Créer\";\n    return (\n      <div className=\"form\">\n        <div className=\"form--content\">\n          <div className=\"form--item\">\n            <label>Titre</label>\n            <input\n              type=\"text\"\n              placeholder=\"Mon Titre\"\n              value={this.state.title}\n              onChange={this.handleTitleChange}\n            />\n          </div>\n          <div className=\"form--item\">\n            <label>Projet</label>\n            <input\n              type=\"text\"\n              placeholder=\"Mon Projet\"\n              value={this.state.project}\n              onChange={this.handleProjectChange}\n            />\n          </div>\n        </div>\n        <div className=\"form--button\">\n          <button className=\"button btn--submit\" onClick={this.handleSubmit}>\n            {submitText}\n          </button>\n          <button\n            className=\"button btn--cancel\"\n            onClick={this.props.onFormClose}\n          >\n            Annuler\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport { TimerForm };\n","import React, { Component } from \"react\";\n\nclass ActionButton extends Component {\n  render() {\n    return (\n      <button className=\"button__outline\" onClick={this.props.handleFormOpen}>\n        +\n      </button>\n    );\n  }\n}\n\nexport { ActionButton };\n","import React from \"react\";\n\nimport { Box } from \"./components\";\n\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Box />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}